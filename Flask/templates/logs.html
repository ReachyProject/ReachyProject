<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Reachy Logs</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<nav class="navbar">
    <div class="nav-brand">
        <img src="{{ url_for('static', filename='logo.png') }}" alt="Reachy Logo" class="nav-logo">
        <span class="nav-title">Reachy Control Panel</span>
    </div>
    <button class="hamburger" id="hamburger" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
    </button>
    <div class="nav-links" id="navLinks">
        <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
            <span class="theme-icon">ðŸŒ™</span>
        </button>
        <a href="/" class="nav-link">Configuration</a>
        <a href="/logs" class="nav-link">Logs</a>
        <a href="/movement-recorder" class="nav-link">Movement Recorder</a>
        <a href="/camera" class="nav-link">Camera</a>
    </div>
</nav>

<div class="logs-container">
    <div class="logs-header">
        <h2>Service Logs</h2>
        <div class="logs-controls">
            <button class="btn-clear" onclick="clearLogs()">Clear Logs</button>
            <button class="btn-refresh" onclick="fetchLogs()">â†» Refresh</button>
        </div>
    </div>

    <div class="logs-content" id="logsContent">
        <div class="logs-empty">No logs available. Start the service to see logs.</div>
    </div>
</div>

<script src="{{ url_for('static', filename='logs.js') }}"></script>
<script>
    // Hamburger menu functionality
    document.addEventListener('DOMContentLoaded', function () {
        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('navLinks');

        if (hamburger && navLinks) {
            hamburger.addEventListener('click', function () {
                hamburger.classList.toggle('active');
                navLinks.classList.toggle('active');
                document.body.classList.toggle('menu-open');
            });

            // Close menu when clicking on a link
            const links = navLinks.querySelectorAll('.nav-link');
            links.forEach(link => {
                link.addEventListener('click', function () {
                    hamburger.classList.remove('active');
                    navLinks.classList.remove('active');
                    document.body.classList.remove('menu-open');
                });
            });

            // Close menu when clicking outside
            document.addEventListener('click', function (event) {
                const isClickInsideNav = navLinks.contains(event.target);
                const isClickOnHamburger = hamburger.contains(event.target);

                if (!isClickInsideNav && !isClickOnHamburger && navLinks.classList.contains('active')) {
                    hamburger.classList.remove('active');
                    navLinks.classList.remove('active');
                    document.body.classList.remove('menu-open');
                }
            });
        }
    });
</script>
</body>
</html>